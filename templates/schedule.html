<div class="box">
  <center><h1>Welcome!</h1></center>
  <center><h2>Please enter teacher names for each period.</h2></center>
	<div class="dropdown">
		<div class="center">
		<button id="tchnam" onclick="myFunction()" class="dropbtn">Display/Hide Teacher Names</button>
		</div>
		<div id="myDropdown" class="dropdown-content">
			<input type="text" placeholder="Search.." id="myInput" onkeyup="filterFunction()">
			<button onclick="myFunction2(this)">Pressler</button>
			<button onclick="myFunction2(this)">Shockey</button>
			<button onclick="myFunction2(this)">Teacher3</button>
			<button onclick="myFunction2(this)">Teacher4</button>
		</div>
	</div>

	<div id ="teacherNames"></div>
<div id= "sbmit">
	<form method = "POST" action="{{ url_for('test') }}">
		<input hidden type="text" id="schedule" name="schedule">
		<br>
		<button onclick = "processFunction()" id ="submitbutton">Submit!</button>
	</form>
</div>
</div>

<script>
function processFunction(){
  const input = document.getElementById("myInput");
  const filter = input.value.toUpperCase();
  const div = document.getElementById("teacherNames");
  const divs = div.getElementsByTagName("div");
	var arr = ""
  for (let i = 0; i < divs.length; i++) {
    arr+=(divs[i].innerText);
		if (i == divs.length-1){
			continue;
		} else {
		arr+=","
		}
  }
	document.getElementById("schedule").value = arr;

}
var teacher = ""
let count = 0;
function myFunction() {
  document.getElementById("myDropdown").classList.toggle("show");
	if (count %2==0){
		document.getElementById("teacherNames").style.top = "500px";
	} else {
		document.getElementById("teacherNames").style.top = "350px";
	}
}
document.getElementById("tchnam").addEventListener("click", function() {
	count++;
});

function myFunction2(element){
	var txt = element.innerText;
	if (txt === "Dropdown"){
		return
	} else {
		var txtElem = document.createElement('div')
		txtElem.className = "classList"
		txtElem.innerText=txt
		document.getElementById("teacherNames").appendChild(txtElem);
		// document.getElementById("schedule").innerText+=txt
		// document.getElementById("schedule").innerText+=","
	}
}

function filterFunction() {
  const input = document.getElementById("myInput");
  const filter = input.value.toUpperCase();
  const div = document.getElementById("myDropdown");
  const buttons = div.getElementsByTagName("button");
  for (let i = 0; i < buttons.length; i++) {
    txtValue = buttons[i].innerText;
    if (txtValue.toUpperCase().indexOf(filter) > -1) {
      buttons[i].style.display = "";
    } else {
      buttons[i].style.display = "none";
    }
  }
}
</script>





<style>

#teacherNames{
	position:absolute;
	top:500px;
}
#sbmit{
	position:absolute;
	top:850px;
	left:805px;
}

#submitbutton{
	width:300px;
	height:50px;
	border-radius: 10px;
	border:none;
	font-size: 20px;
	font-weight: bold;
	background-color:#64b3f4;
}

.classList{
	width:450px;
	height:20px;
	margin:2px;
	padding:10px;
	color:white;
	font-size: 20px;
	font-weight: bold;
	background-color: #64b3f4;
	border-radius:10px;
	border: transparent;
}
.center{
	text-align: center;
}

#tchnam{
	position: absolute;
	left:95px;
	width:300px;
}
body{
    background-image: linear-gradient(to right,#c2e59c, #64b3f4);
}

.box {
  width: 500px;
  height: 700px;
  background-color:white;
  border: 1px solid white;
  border-radius: 10px;
  padding: 100px;
  margin-top: 30px;
  margin-left:32%;
}

.dropbtn {
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: #c2e59c;
  color: black;
  padding: 16px;
  font-size: 16px;
	font-weight: bold;
	border-radius:10px;
	border-color: transparent;
  cursor: pointer;
}

#myInput {
  box-sizing: border-box;
  font-size: 16px;
  padding: 14px 20px 12px 45px;
  border: none;
  border-bottom: 1px solid #ddd;
	width:400px;
}

.dropdown {
  position: relative;
  display: inline-block;
}

.dropdown-content {
	left:40px;
  display: none;
  position: absolute;
	margin-top:50px;
  background-color: #f6f6f6;
  overflow: auto;
  border: 1px solid #ddd;
  /* z-index: 1; */
  height:150px;
  overflow: auto;
	width:400px;
}

.dropdown-content button {
  color: black;
  padding: 12px 16px;
  display: block;
	border:none;
	width: 400px;
}

.show {display: block;}
</style>